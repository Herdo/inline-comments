!function(t,$,n){var i,o="incom_wrapper",e="#"+o,a="body",c="comments-and-form",r="#"+c,s="incom-commentform",u="data-incom",f=u+"-comment",l=[],d=u+"-ref",m="incom-active",p="."+m,b="incom-visible-comment",v="."+b,h="incom-position-",g="incom-bubble",y="."+g,w=g+"-style",k=g+"-static",C="."+k,S=g+"-dynamic",T=g+"-active",A=g+"-link",x="incom-comments-wrapper",I="."+x,O="incom-reply",D="."+O,W="incom-cancel",j="."+W,q="incom-info-icon",z="."+q,B=r+" .comment",N="data_incom",_=0,L=$(window).width(),Q,E,F;t.init=function(t){G(t),H(),On(),An(),$(D+" .comment-reply-link").on("click",function(){$(r+" #commentform").attr("id",s)})};var G=function(t){i=$.extend({selectors:"p",moveSiteSelector:a,countStatic:!0,alwaysStatic:!1,defaultBubbleText:"+",bubbleStyle:"bubble",bubbleAnimationIn:"default",bubbleAnimationOut:"default",position:"left",background:"white",backgroundOpacity:"1"},t)},H=function(){0===$(e).length&&$('<div id="'+o+'"></div>').appendTo($(a)).addClass(h+i.position),J()},J=function(){var t=qn(i.selectors);$(t).each(function(n){$(t[n]).each(function(t){var n=$(this),i=K(n);t=M(t,i),P(t,n,i),R(n)})})},K=function(t){var n=t.prop("tagName").substr(0,5);return n},M=function(t,n){var i=n+t;if(-1!==$.inArray(i,l))for(;-1!==$.inArray(i,l);)t++,i=n+t;return l.push(i),t},P=function(t,n,i){if(!n.attr(u)){var o=i+t;n.attr(u,o)}},R=function(t){var n=U(t),i=t.attr(u),o=X(t),a=$("<a/>",{href:"","class":A,"data-incom-bubble":i}).text(n).wrap(o).parent().appendTo(e);tn(a),ln(t,a),mn(a)?(nn(t,a),on(t,a)):a.hide()},U=function(t){var n;return n=Z(t)?V(t):i.defaultBubbleText},V=function(t){var n=t.attr(u),i="["+f+"="+n+"]",o=$(i).length;return o+=$(i+" .children li").length},X=function(t){var n='<div class="'+Y(t)+'" />';return n},Y=function(t){var n=g,o=" ";return(i.alwaysStatic||Z(t)&&i.countStatic)&&(n+=o+k),n+=Z(t)||!Z(t)&&"bubble"===i.bubbleStyle?o+w:o+S},Z=function(t){var n=V(t);return $.isNumeric(n)&&n>0?!0:!1},tn=function(t){t.hasClass(k)&&t.css("display","block")},nn=function(t,n){n.hasClass(k)||t.add(n).hover(function(){$(y+":not("+C+")").hide(),"fadein"===i.bubbleAnimationIn?n.stop(!0,!0).fadeIn():n.stop(!0,!0).show(),mn(n)||n.hide()},function(){"fadeout"===i.bubbleAnimationOut?n.stop(!0,!0).fadeOut():n.stop(!0,!0).delay(700).hide(0)})},on=function(t,n){n.on("click",function(i){i.preventDefault(),$(this).hasClass(T)?(yn(!0),$(this).removeClass(T)):(en(),t.addClass(m),yn(),n.addClass(T),an(n))})},en=function(){var t=$(p);0!==t.length&&(t.removeClass(m),0===t.prop("class").length&&t.removeAttr("class"))},an=function(t){var n=$("<div/>",{"class":x}).appendTo(e).css("background-color","rgba("+Wn(i.background)+","+i.backgroundOpacity+")");un(),rn(),ln(t,n),pn(n),hn(),cn()},cn=function(){$(document).ready(gn()).ajaxStop(function(){gn()})},rn=function(){$(r).appendTo(I).show(),sn()},sn=function(){var t=$("<input>").attr("type","hidden").attr("name",N).val(fn);$(r+" .form-submit").append($(t))},un=function(){var t="["+f+"="+fn()+"]";$(B).hide(),$(B+t).addClass(b).show(),$(v+" .children li").show()},fn=function(){var t=$(p).attr(u);return t},ln=function(t,n){var i=t.offset();n.css({top:i.top,left:Tn()?i.left+t.outerWidth():i.left-n.outerWidth()})},dn=function(t){Q=t.outerWidth(),E=t.offset().left,F=E+Q},mn=function(t){return dn(t),F>L||0>E?!1:!0},pn=function(t){dn(t),Tn()&&F>L?(bn(F-L),wn("in")):!Tn()&&0>E&&(bn(-E),wn("in"))},bn=function(t){_=t},vn=function(){return _},hn=function(){$("html").click(function(t){0===$(t.target).parents(e).length&&yn(!0)})},gn=function(){$(j).click(function(t){t.preventDefault(),yn(!0)})},yn=function(t){var n=$(y),i=$(I);$(r).appendTo(e).hide(),$(v).removeClass(b),n.hasClass(T)&&(n.removeClass(T),t?i.fadeOut("fast",function(){$(this).remove(),en()}):i.remove(),wn("out"))},wn=function(t){var n=$(i.moveSiteSelector);n.css({position:"relative"}),kn(n,t),i.moveSiteSelector!==a&&(Sn(t,y),Sn(t,I))},kn=function(t,n){var i;"in"===n?i=vn():"out"===n&&(i="initial"),Cn(t,i)},Cn=function(t,n){t.css(Tn()?{right:n}:{left:n})},Sn=function(t,n){var i=$(n);"in"===t?i.css({left:Tn()?"-="+vn():"+="+vn()}):"out"===t&&i.css({left:Tn()?"+="+vn():"-="+vn()})},Tn=function(){return"right"===i.position?!0:!1},An=function(){var t=d,n=u;xn(t,n),In(t,n)},xn=function(t,n){$("["+t+"]").each(function(){var i=$(this),o=i.attr(t),e=$("["+n+'="'+o+'"]');e.length||i.parent().remove()})},In=function(t,n){$("["+t+"]").click(function(){var i=$(this).attr(t),o=$("["+n+'="'+i+'"]');if(o.length){var e=o.offset().top-30;$("html, body").animate({scrollTop:e},1200,"quart")}})},On=function(){var t=$(z);if(t.length){t.css({display:"block",visibility:"visible"}),(t.css("opacity")<.2||Dn(t)<.2)&&t.css({color:"rgba(0,0,0,1)"}).fadeTo("fast",.5);var n=t.css("font-size").replace(/\D/g,"");6>n&&t.css({"font-size":"13px"});var i=t.css("color");/\s/g.test(i)&&(i=i.replace(/\s/g,"")),i=i.toLowerCase(),("rgb(255,255,255)"===i||"white"===i||"rgba(255,255,255,0)"===i)&&t.css("cssText","color: black!important;")}},Dn=function(t){var n=1,i=t.css("color");return/rgba/i.test(i)&&(n=i.replace(/^.*,(.+)\)/,"$1")),n},Wn=function(t){var n=parseInt(jn(t).substring(0,2),16),i=parseInt(jn(t).substring(2,4),16),o=parseInt(jn(t).substring(4,6),16);return n+","+i+","+o},jn=function(t){return"#"===t.charAt(0)?t.substring(1,7):t},qn=function(t){var n=t.split(",");return n};$.easing.quart=function(t,n,i,o,e){return-o*((n=n/e-1)*n*n*n-1)+i}}(window.incom=window.incom||{},jQuery);