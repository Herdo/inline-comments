!function(n,t,o){var i,c="incom_wrapper",e="#"+c,a="comments-and-form",r="#"+a,f="data-incom",u="incom-bubble",s="incom-active",d="."+u,p="incom-bubble-link",l="incom-comments-wrapper",v="."+l,m="incom-cancel",h="."+m;n.init=function(n){b(n),w()};var b=function(n){i=t.extend({selectors:"p",position:"left",background:"white"},n)},w=function(){0===t(e).length&&t('<div id="'+c+'"></div>').appendTo(t("body")),g()},g=function(){var n=N(i.selectors);t(n).each(function(o){t(n[o]).each(function(n){var o=t(this);k(n,o),T(o)})})},k=function(n,t){var o=t.prop("tagName").substr(0,1);if(!t.attr(f)){var i=o+n;t.attr(f,i)}},T=function(n){var o=t("<a/>",{href:"","class":p}).text("+").wrap('<div class="'+u+'" />').parent().appendTo(e);O(n,o),C(n,o),x(o)},C=function(n,t){n.add(t).hover(function(){t.stop(!0,!0).fadeIn()},function(){t.stop(!0,!0).fadeOut(2e3)})},x=function(n){n.on("click",function(t){t.preventDefault(),I(),n.addClass(s),y(n)})},y=function(n){var o=t("<div/>",{"class":l}).appendTo(e).css("background-color",i.background);D(),O(n,o),W(),j()},D=function(){t(r).appendTo(v).show()},O=function(n,t){var o=n.offset();t.css({top:o.top,left:"right"===i.position?o.left+n.outerWidth():o.left-t.outerWidth()})},W=function(){t("html").click(function(n){0===t(n.target).parents(e).length&&I(!0)})},j=function(){t(h).click(function(n){n.preventDefault(),I(!0)})},I=function(n){var o=t(d),i=t(v);t(r).appendTo(e).hide(),o.hasClass(s)&&(o.removeClass(s),n===!0?i.fadeOut("fast",function(){t(this).remove()}):i.remove())},N=function(n){var t=n.split(",");return t}}(window.incom=window.incom||{},jQuery);