!function(t,n,i){var o,e="incom_wrapper",a="#"+e,c="html",u="comments-and-form",r="#"+u,s="data-incom",f=s+"-comment",l="incom-active",d="."+l,p="incom-position-",v="incom-bubble",m="."+v,b=v+"-style",h=v+"-static",w="."+h,g=v+"-dynamic",y=v+"-active",S=v+"-link",k="incom-comments-wrapper",x="."+k,C="incom-cancel",T="."+C,_="incom-info-icon",j="."+_,A=r+" .comment",O="data_incom",I=0,W=n(window).width(),B,D,N;t.init=function(t){q(t),z(),bn(),n("p").on("click",function(t){Q()})};var Q=function(){n.ajax({url:my_ajax_script.ajaxurl,data:{action:"incom_do_ajax_wp"},success:function(t){console.log("test-success: "+t)}})},q=function(t){o=n.extend({selectors:"p",moveSiteSelector:c,countStatic:!0,alwaysStatic:!1,defaultBubbleText:"+",bubbleStyle:"bubble",bubbleAnimationIn:"default",bubbleAnimationOut:"default",position:"left",background:"white"},t)},z=function(){0===n(a).length&&n('<div id="'+e+'"></div>').appendTo(n(c)).addClass(p+o.position),E()},E=function(){var t=hn(o.selectors);n(t).each(function(i){n(t[i]).each(function(t){var i=n(this);F(t,i),G(i)})})},F=function(t,n){var i=n.prop("tagName").substr(0,1);if(!n.attr(s)){var o=i+t;n.attr(s,o)}},G=function(t){var i=H(t),o=K(t),e=n("<a/>",{href:"","class":S}).text(i).wrap(o).parent().appendTo(a);P(e),nn(t,e),en(e)?(R(t,e),U(t,e)):e.hide()},H=function(t){var n;return n=M(t)?J(t):o.defaultBubbleText},J=function(t){var i=t.attr(s),o="["+f+"="+i+"]",e=n(o).length;return e},K=function(t){var n='<div class="'+L(t)+'" />';return n},L=function(t){var n=v,i=" ";return(o.alwaysStatic||M(t)&&o.countStatic)&&(n+=i+h),n+=M(t)||!M(t)&&"bubble"===o.bubbleStyle?i+b:i+g},M=function(t){var i=J(t);return n.isNumeric(i)&&i>0?!0:!1},P=function(t){t.hasClass(h)&&t.css("display","block")},R=function(t,i){i.hasClass(h)||t.add(i).hover(function(){n(m+":not("+w+")").hide(),"fadein"===o.bubbleAnimationIn?i.stop(!0,!0).fadeIn():i.stop(!0,!0).show(),en(i)||i.hide()},function(){"fadeout"===o.bubbleAnimationOut?i.stop(!0,!0).fadeOut():i.stop(!0,!0).delay(700).hide(0)})},U=function(t,n){n.on("click",function(i){i.preventDefault(),V(),t.addClass(l),fn(),n.addClass(y),X(n)})},V=function(){var t=n(d);0!==t.length&&(t.removeClass(l),0===t.prop("class").length&&t.removeAttr("class"))},X=function(t){var i=n("<div/>",{"class":k}).appendTo(a).css("background-color",o.background);$(),Y(),nn(t,i),an(i),rn(),sn()},Y=function(){n(r).appendTo(x).show(),Z()},Z=function(){var t=n("<input>").attr("type","hidden").attr("name",O).val(tn);n(r+" .form-submit").append(n(t))},$=function(){var t="["+f+"="+tn()+"]";n(A).hide(),n(A+t).show()},tn=function(){var t=n(d).attr(s);return t},nn=function(t,n){var i=t.offset();n.css({top:i.top,left:mn()?i.left+t.outerWidth():i.left-n.outerWidth()})},on=function(t){B=t.outerWidth(),D=t.offset().left,N=D+B},en=function(t){return on(t),N>W||0>D?!1:!0},an=function(t){on(t),mn()&&N>W?(cn(N-W),ln("in")):!mn()&&0>D&&(cn(-D),ln("in"))},cn=function(t){I=t},un=function(){return I},rn=function(){n("html").click(function(t){0===n(t.target).parents(a).length&&fn(!0)})},sn=function(){n(T).click(function(t){t.preventDefault(),fn(!0)})},fn=function(t){var i=n(m),o=n(x);n(r).appendTo(a).hide(),i.hasClass(y)&&(i.removeClass(y),t?o.fadeOut("fast",function(){n(this).remove(),V()}):o.remove(),ln("out"))},ln=function(t){var i=n(o.moveSiteSelector);i.css({position:"relative"}),dn(i,t),o.moveSiteSelector!==c&&(vn(t,m),vn(t,x))},dn=function(t,n){var i;"in"===n?i=un():"out"===n&&(i="initial"),pn(t,i)},pn=function(t,n){t.css(mn()?{right:n}:{left:n})},vn=function(t,i){var o=n(i);"in"===t?o.css({left:mn()?"-="+un():"+="+un()}):"out"===t&&o.css({left:mn()?"+="+un():"-="+un()})},mn=function(){return"right"===o.position?!0:!1},bn=function(){n(j).css({display:"block",visibility:"visible"})},hn=function(t){var n=t.split(",");return n}}(window.incom=window.incom||{},jQuery);