!function(t,$,n){var i,o="incom_wrapper",e="#"+o,c="body",a="comments-and-form",r="#"+a,s="incom-commentform",u="data-incom",l=u+"-comment",f="incom-active",d="."+f,m="incom-visible-comment",b="."+m,p="incom-position-",v="incom-bubble",h="."+v,g=v+"-style",w=v+"-static",y="."+w,k=v+"-dynamic",S=v+"-active",C=v+"-link",T="incom-comments-wrapper",x="."+T,A="incom-reply",I="."+A,O="incom-cancel",W="."+O,j="incom-info-icon",B="."+j,D=r+" .comment",N="data_incom",_=0,L=$(window).width(),Q,q,z;t.init=function(t){E(t),F(),Cn(),$(I+" .comment-reply-link").on("click",function(){$(r+" #commentform").attr("id",s)})};var E=function(t){i=$.extend({selectors:"p",moveSiteSelector:c,countStatic:!0,alwaysStatic:!1,defaultBubbleText:"+",bubbleStyle:"bubble",bubbleAnimationIn:"default",bubbleAnimationOut:"default",position:"left",background:"white",backgroundOpacity:"1"},t)},F=function(){0===$(e).length&&$('<div id="'+o+'"></div>').appendTo($(c)).addClass(p+i.position),G()},G=function(){var t=Tn(i.selectors);$(t).each(function(n){$(t[n]).each(function(t){var n=$(this);H(t,n),J(n)})})},H=function(t,n){var i=n.prop("tagName").substr(0,2);if(!n.attr(u)){var o=i+t;n.attr(u,o)}},J=function(t){var n=K(t),i=P(t),o=$("<a/>",{href:"","class":C}).text(n).wrap(i).parent().appendTo(e);V(o),un(t,o),fn(o)?(X(t,o),Y(t,o)):o.hide()},K=function(t){var n;return n=U(t)?M(t):i.defaultBubbleText},M=function(t){var n=t.attr(u),i="["+l+"="+n+"]",o=$(i).length;return o+=$(i+" .children li").length},P=function(t){var n='<div class="'+R(t)+'" />';return n},R=function(t){var n=v,o=" ";return(i.alwaysStatic||U(t)&&i.countStatic)&&(n+=o+w),n+=U(t)||!U(t)&&"bubble"===i.bubbleStyle?o+g:o+k},U=function(t){var n=M(t);return $.isNumeric(n)&&n>0?!0:!1},V=function(t){t.hasClass(w)&&t.css("display","block")},X=function(t,n){n.hasClass(w)||t.add(n).hover(function(){$(h+":not("+y+")").hide(),"fadein"===i.bubbleAnimationIn?n.stop(!0,!0).fadeIn():n.stop(!0,!0).show(),fn(n)||n.hide()},function(){"fadeout"===i.bubbleAnimationOut?n.stop(!0,!0).fadeOut():n.stop(!0,!0).delay(700).hide(0)})},Y=function(t,n){n.on("click",function(i){i.preventDefault(),Z(),t.addClass(f),hn(),n.addClass(S),on(n)})},Z=function(){var t=$(d);0!==t.length&&(t.removeClass(f),0===t.prop("class").length&&t.removeAttr("class"))},tn=function(t){var n=parseInt(nn(t).substring(0,2),16),i=parseInt(nn(t).substring(2,4),16),o=parseInt(nn(t).substring(4,6),16);return n+","+i+","+o},nn=function(t){return"#"===t.charAt(0)?t.substring(1,7):t},on=function(t){var n=$("<div/>",{"class":T}).appendTo(e).css("background-color","rgba("+tn(i.background)+","+i.backgroundOpacity+")");rn(),cn(),un(t,n),dn(n),pn(),en()},en=function(){$(document).ready(vn()).ajaxStop(function(){vn()})},cn=function(){$(r).appendTo(x).show(),an()},an=function(){var t=$("<input>").attr("type","hidden").attr("name",N).val(sn);$(r+" .form-submit").append($(t))},rn=function(){var t="["+l+"="+sn()+"]";$(D).hide(),$(D+t).addClass(m).show(),$(b+" .children li").show()},sn=function(){var t=$(d).attr(u);return t},un=function(t,n){var i=t.offset();n.css({top:i.top,left:Sn()?i.left+t.outerWidth():i.left-n.outerWidth()})},ln=function(t){Q=t.outerWidth(),q=t.offset().left,z=q+Q},fn=function(t){return ln(t),z>L||0>q?!1:!0},dn=function(t){ln(t),Sn()&&z>L?(mn(z-L),gn("in")):!Sn()&&0>q&&(mn(-q),gn("in"))},mn=function(t){_=t},bn=function(){return _},pn=function(){$("html").click(function(t){0===$(t.target).parents(e).length&&hn(!0)})},vn=function(){$(W).click(function(t){t.preventDefault(),hn(!0)})},hn=function(t){var n=$(h),i=$(x);$(r).appendTo(e).hide(),$(b).removeClass(m),n.hasClass(S)&&(n.removeClass(S),t?i.fadeOut("fast",function(){$(this).remove(),Z()}):i.remove(),gn("out"))},gn=function(t){var n=$(i.moveSiteSelector);n.css({position:"relative"}),wn(n,t),i.moveSiteSelector!==c&&(kn(t,h),kn(t,x))},wn=function(t,n){var i;"in"===n?i=bn():"out"===n&&(i="initial"),yn(t,i)},yn=function(t,n){t.css(Sn()?{right:n}:{left:n})},kn=function(t,n){var i=$(n);"in"===t?i.css({left:Sn()?"-="+bn():"+="+bn()}):"out"===t&&i.css({left:Sn()?"+="+bn():"-="+bn()})},Sn=function(){return"right"===i.position?!0:!1},Cn=function(){$(B).css({display:"block",visibility:"visible"});var t=$(B).css("color");t=t.replace(/\s/g,""),t=t.toLowerCase(),("rgb(255, 255, 255)"===t||"white"===t||"rgba(0,0,0,0)"===t)&&$(B).css("cssText","color: black!important;")},Tn=function(t){var n=t.split(",");return n}}(window.incom=window.incom||{},jQuery);