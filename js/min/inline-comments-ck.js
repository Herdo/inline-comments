!function(n,t,o){var i,e="incom_wrapper",a="#"+e,c="comments-and-form",r="#"+c,f="data-incom",s="incom-bubble",u="incom-active",d="."+s,p="incom-bubble-link",l="incom-comments-wrapper",v="."+l;n.init=function(n){m(n),h()};var m=function(n){i=t.extend({selectors:"p",position:"left",background:"white"},n)},h=function(){0===t(a).length&&t('<div id="'+e+'"></div>').appendTo(t("body")),b()},b=function(){var n=j(i.selectors);t(n).each(function(o){t(n[o]).each(function(n){var o=t(this);w(n,o),g(o)})})},w=function(n,t){var o=t.prop("tagName").substr(0,1);if(!t.attr(f)){var i=o+n;t.attr(f,i)}},g=function(n){var o=t("<a/>",{href:"","class":p}).text("+").wrap('<div class="'+s+'" />').parent().appendTo(a);y(n,o),k(n,o),T(o)},k=function(n,t){n.add(t).hover(function(){t.stop(!0,!0).fadeIn()},function(){t.stop(!0,!0).fadeOut(2e3)})},T=function(n){n.on("click",function(t){t.preventDefault(),W(),n.addClass(u),C(n)})},C=function(n){var o=t("<div/>",{"class":l}).appendTo(a).css("background-color",i.background);x(),y(n,o),O()},x=function(){t(r).appendTo(v).show()},y=function(n,t){var o=n.offset();t.css({top:o.top,left:"right"===i.position?o.left+n.outerWidth():o.left-t.outerWidth()})},O=function(){t("html").click(function(n){0===t(n.target).parents(a).length&&W(!0)})},W=function(n){var o=t(d),i=t(v);t(r).appendTo(a).hide(),o.hasClass(u)&&(o.removeClass(u),n===!0?i.fadeOut("fast",function(){t(this).remove()}):i.remove())},j=function(n){var t=n.split(",");return t}}(window.incom=window.incom||{},jQuery);