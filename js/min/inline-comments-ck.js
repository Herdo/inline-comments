!function(n,t,o){var i,e="incom-active";n.init=function(n){c(n),r(),a()};var c=function(n){i=t.extend({selectors:"p",position:"left"},n)},r=function(){0===t("#incom_wrapper").length&&t('<div id="incom_wrapper"></div>').appendTo(t("body"))},a=function(){var n=w(i.selectors);t(n).each(function(o){t(n[o]).each(function(n){var o=t(this);p(n,o),f(o)})})},p=function(n,t){var o=t.prop("tagName").substr(0,1);if(!t.attr("data-incom")){var i=o+n;t.attr("data-incom",i)}},f=function(n){var o=n.offset(),e=t("<a/>",{href:"","class":"incom-bubble-link"}).text("+").wrap('<div class="incom-bubble" />').parent().appendTo("#incom_wrapper");e.css({top:o.top,left:"right"===i.position?o.left+n.outerWidth():o.left-e.outerWidth()}),s(n,e),m(e)},s=function(n,t){n.add(t).hover(function(){t.stop(!0,!0).fadeIn()},function(){t.stop(!0,!0).fadeOut(2e3)})},m=function(n){n.on("click",function(t){t.preventDefault(),h(),n.addClass(e),u(n)})},u=function(n){var o=t("<div/>",{"class":"incom-comments-wrapper"}).appendTo("#incom_wrapper");d(),l(n,o),v()},d=function(){t("#incom_commentform").appendTo(".incom-comments-wrapper").show()},l=function(n,t){var o=n.offset();t.css({top:o.top,left:"right"===i.position?o.left+n.outerWidth():o.left-t.outerWidth()})},v=function(){t("html").click(function(n){0===t(n.target).parents("#incom_wrapper").length&&h(!0)})},h=function(n){var o=t(".incom-bubble"),i=t(".incom-comments-wrapper");t("#incom_commentform").appendTo("#incom_wrapper").hide(),o.hasClass(e)&&(o.removeClass(e),n===!0?i.fadeOut("fast",function(){t(this).remove()}):i.remove())},w=function(n){var t=n.split(",");return t}}(window.incom=window.incom||{},jQuery);