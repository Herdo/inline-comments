!function(t,$,n){var o,i="incom_wrapper",e="#"+i,a="html",r="comments-and-form",c="#"+r,s="incom-commentform",u="data-incom",l=u+"-comment",f=[],m=u+"-bubble",d=u+"-ref",p="incom-active",v="."+p,b="incom-visible-comment",h="."+b,g="incom-position-",y="incom-bubble",w="."+y,k=y+"-style",C=y+"-static",x="."+C,S=y+"-dynamic",T=y+"-active",A=y+"-link",I="incom-comments-wrapper",O="."+I,X="incom-reply",z="."+X,D="incom-cancel",W="."+D,j="incom-info-icon",q="."+j,B="incom-scrolled-to",E=c+" .comment",F="data_incom",N=0,_=$(window).width(),L,Q,Y;t.init=function(t){G(t),H(),J(),jn(),Xn(),$(z+" .comment-reply-link").on("click",function(){$(c+" #commentform").attr("id",s)})};var G=function(t){o=$.extend({selectors:"p",moveSiteSelector:a,countStatic:!0,alwaysStatic:!1,defaultBubbleText:"+",bubbleStyle:"bubble",bubbleAnimationIn:"default",bubbleAnimationOut:"default",position:"left",background:"white",backgroundOpacity:"1",animation:"default"},t)},H=function(){0===$(e).length&&$('<div id="'+i+'"></div>').appendTo($(a)).addClass(g+o.position)},J=function(){$(o.selectors).each(function(){K($(this)),M.createFromElement($(this))})},K=function(t,n){if(n=n||0,!t.attr(u)){var o=P(t);n=R(n,o);var i=o+n;t.attr(u,i)}},M={set:function(t){var o=$.extend({posX:n,posY:n,id:n,visible:!1},t)},createFromElement:function(t){U(t)}},P=function(t){var n=t.prop("tagName").substr(0,5);return n},R=function(t,n){var o=n+t;if(-1!==$.inArray(o,f))for(;-1!==$.inArray(o,f);)t++,o=n+t;return f.push(o),t},U=function(t){var n=V(t),o=tn(t),i=$("<a/>",{href:"","class":A}).text(n).wrap(o).parent().appendTo(e);en(i),pn(t,i),bn(i)?(an(t,i),rn(t,i)):i.hide()},V=function(t){var n;return n=on(t)?Z(t):o.defaultBubbleText},Z=function(t){var n=t.attr(u),o="["+l+"="+n+"]",i=$(o).length;return i+=$(o+" .children li").length},tn=function(t){var n=t.attr(u),o='<div class="'+nn(t)+'" '+m+'="'+n+'" />';return o},nn=function(t){var n=y,i=" ";return(o.alwaysStatic||on(t)&&o.countStatic)&&(n+=i+C),n+=on(t)||!on(t)&&"bubble"===o.bubbleStyle?i+k:i+S},on=function(t){var n=Z(t);return $.isNumeric(n)&&n>0?!0:!1},en=function(t){t.hasClass(C)&&t.css("display","block")},an=function(t,n){n.hasClass(C)||t.add(n).hover(function(){$(w+":not("+x+")").hide(),"fadein"===o.bubbleAnimationIn?n.stop(!0,!0).fadeIn():n.stop(!0,!0).show(),bn(n)||n.hide()},function(){"fadeout"===o.bubbleAnimationOut?n.stop(!0,!0).fadeOut():n.stop(!0,!0).delay(700).hide(0)})},rn=function(t,n){n.on("click",function(o){o.preventDefault(),$(this).hasClass(T)?(Cn(!0),$(this).removeClass(T)):(Wn(p),t.addClass(p),Cn(),n.addClass(T),sn(n))})},cn=function(){var t;return t=0===$(O).length?$("<div/>",{"class":I}).appendTo(e).css("background-color","rgba("+Bn(o.background)+","+o.backgroundOpacity+")"):$(O)},sn=function(t){var n=cn();mn(),ln(),pn(t,n),hn(n),wn(),un()},un=function(){$(document).ready(kn()).ajaxStop(function(){kn()})},ln=function(){$(c).appendTo(O).show(),fn()},fn=function(){var t=$("<input>").attr("type","hidden").attr("name",F).val(dn);$(c+" .form-submit").append($(t))},mn=function(){var t="["+l+"="+dn()+"]";$(E).hide(),$(E+t).addClass(b).show(),$(h+" .children li").show()},dn=function(){var t=$(v).attr(u);return t},pn=function(t,n){var o=t.offset();n.css({top:o.top,left:On()?o.left+t.outerWidth():o.left-n.outerWidth()})},vn=function(t){L=t.outerWidth(),Q=t.offset().left,Y=Q+L},bn=function(t){return vn(t),Y>_||0>Q?!1:!0},hn=function(t){vn(t),On()&&Y>_?(gn(Y-_),xn("in")):!On()&&0>Q&&(gn(-Q),xn("in"))},gn=function(t){N=t},yn=function(){return N},wn=function(){$("html").click(function(t){0===$(t.target).parents(e).length&&Cn(!0)})},kn=function(){$(W).click(function(t){t.preventDefault(),Cn(!0)})},Cn=function(t){var n=$(w),o=$(O);$(c).appendTo(e).hide(),$(h).removeClass(b),n.hasClass(T)&&(n.removeClass(T),t?o.fadeOut("fast",function(){$(this).remove(),Wn(p)}):o.remove(),xn("out"))},xn=function(t){var n=$(o.moveSiteSelector);n.css({position:"relative"}),Sn(n,t),o.moveSiteSelector!==a&&(In(t,w),In(t,O))},Sn=function(t,n){var o;"in"===n?o=yn():"out"===n&&(o="initial"),An(t,o)},Tn={set:{translateX:function(t,n){var o={"-webkit-transform":"translateX(-"+t+"px)","-moz-transform":"translateX(-"+t+"px)","-o-transform":"translateX(-"+t+"px)",transform:"translateX(-"+t+"px)"};return o[n]="0",o}},go:function(t,n,o){t.transition({x:o})}},An=function(t,n){var i={};i[o.position]=n,o.animation===!1?t.css(i):Tn.go(t,i,n)},In=function(t,n){var o=$(n);"in"===t?o.css({left:On()?"-="+yn():"+="+yn()}):"out"===t&&o.css({left:On()?"+="+yn():"-="+yn()})},On=function(){return"right"===o.position?!0:!1},Xn=function(){var t=d,n=u;zn(t,n),Dn(t,n)},zn=function(t,n){$("["+t+"]").each(function(){var o=$(this),i=o.attr(t),e=$("["+n+'="'+i+'"]');e.length||o.parent().remove()})},Dn=function(t,n){$("["+t+"]").click(function(){var o=$(this).attr(t),i=$("["+n+'="'+o+'"]');if(i.length){var e=i.offset().top-30;$("html, body").animate({scrollTop:e},1200,"quart"),Wn(B),i.addClass(B)}})},Wn=function(t){var n=$("."+t);0!==n.length&&(n.removeClass(t),0===n.prop("class").length&&n.removeAttr("class"))},jn=function(){var t=$(q);if(t.length){t.css({display:"block",visibility:"visible"}),(t.css("opacity")<.2||qn(t)<.2)&&t.css({color:"rgba(0,0,0,1)"}).fadeTo("fast",.5);var n=t.css("font-size").replace(/\D/g,"");6>n&&t.css({"font-size":"13px"});var o=t.css("color");/\s/g.test(o)&&(o=o.replace(/\s/g,"")),o=o.toLowerCase(),("rgb(255,255,255)"===o||"white"===o||"rgba(255,255,255,0)"===o)&&t.css("cssText","color: black!important;")}},qn=function(t){var n=1,o=t.css("color");return/rgba/i.test(o)&&(n=o.replace(/^.*,(.+)\)/,"$1")),n},Bn=function(t){var n=parseInt(En(t).substring(0,2),16),o=parseInt(En(t).substring(2,4),16),i=parseInt(En(t).substring(4,6),16);return n+","+o+","+i},En=function(t){return"#"===t.charAt(0)?t.substring(1,7):t};$.easing.quart=function(t,n,o,i,e){return-i*((n=n/e-1)*n*n*n-1)+o}}(window.incom=window.incom||{},jQuery);