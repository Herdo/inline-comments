!function(n,o,t){var i,e="incom-active",c="#comments-and-form";n.init=function(n){a(n),r(),p()};var a=function(n){i=o.extend({selectors:"p",position:"left",background:"white"},n)},r=function(){0===o("#incom_wrapper").length&&o('<div id="incom_wrapper"></div>').appendTo(o("body"))},p=function(){var n=b(i.selectors);o(n).each(function(t){o(n[t]).each(function(n){var t=o(this);s(n,t),f(t)})})},s=function(n,o){var t=o.prop("tagName").substr(0,1);if(!o.attr("data-incom")){var i=t+n;o.attr("data-incom",i)}},f=function(n){var t=o("<a/>",{href:"","class":"incom-bubble-link"}).text("+").wrap('<div class="incom-bubble" />').parent().appendTo("#incom_wrapper");v(n,t),u(n,t),m(t)},u=function(n,o){n.add(o).hover(function(){o.stop(!0,!0).fadeIn()},function(){o.stop(!0,!0).fadeOut(2e3)})},m=function(n){n.on("click",function(o){o.preventDefault(),w(),n.addClass(e),d(n)})},d=function(n){var t=o("<div/>",{"class":"incom-comments-wrapper"}).appendTo("#incom_wrapper").css("background-color",i.background);l(),v(n,t),h()},l=function(){o(c).appendTo(".incom-comments-wrapper").show()},v=function(n,o){var t=n.offset();o.css({top:t.top,left:"right"===i.position?t.left+n.outerWidth():t.left-o.outerWidth()})},h=function(){o("html").click(function(n){0===o(n.target).parents("#incom_wrapper").length&&w(!0)})},w=function(n){var t=o(".incom-bubble"),i=o(".incom-comments-wrapper");o(c).appendTo("#incom_wrapper").hide(),t.hasClass(e)&&(t.removeClass(e),n===!0?i.fadeOut("fast",function(){o(this).remove()}):i.remove())},b=function(n){var o=n.split(",");return o}}(window.incom=window.incom||{},jQuery);