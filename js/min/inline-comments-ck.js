!function(n,o,t){var i,e="incom-active";n.init=function(n){c(n),r(),a()};var c=function(n){i=o.extend({selectors:"p",position:"left",background:"white"},n)},r=function(){0===o("#incom_wrapper").length&&o('<div id="incom_wrapper"></div>').appendTo(o("body"))},a=function(){var n=w(i.selectors);o(n).each(function(t){o(n[t]).each(function(n){var t=o(this);p(n,t),f(t)})})},p=function(n,o){var t=o.prop("tagName").substr(0,1);if(!o.attr("data-incom")){var i=t+n;o.attr("data-incom",i)}},f=function(n){var t=n.offset(),e=o("<a/>",{href:"","class":"incom-bubble-link"}).text("+").wrap('<div class="incom-bubble" />').parent().appendTo("#incom_wrapper");e.css({top:t.top,left:"right"===i.position?t.left+n.outerWidth():t.left-e.outerWidth()}),s(n,e),u(e)},s=function(n,o){n.add(o).hover(function(){o.stop(!0,!0).fadeIn()},function(){o.stop(!0,!0).fadeOut(2e3)})},u=function(n){n.on("click",function(o){o.preventDefault(),h(),n.addClass(e),m(n)})},m=function(n){var t=o("<div/>",{"class":"incom-comments-wrapper"}).appendTo("#incom_wrapper").css("background-color",i.background);d(),l(n,t),v()},d=function(){o("#incom_commentform").appendTo(".incom-comments-wrapper").show()},l=function(n,o){var t=n.offset();o.css({top:t.top,left:"right"===i.position?t.left+n.outerWidth():t.left-o.outerWidth()})},v=function(){o("html").click(function(n){0===o(n.target).parents("#incom_wrapper").length&&h(!0)})},h=function(n){var t=o(".incom-bubble"),i=o(".incom-comments-wrapper");o("#incom_commentform").appendTo("#incom_wrapper").hide(),t.hasClass(e)&&(t.removeClass(e),n===!0?i.fadeOut("fast",function(){o(this).remove()}):i.remove())},w=function(n){var o=n.split(",");return o}}(window.incom=window.incom||{},jQuery);