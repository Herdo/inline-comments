!function(t,$,n){var i,o="incom_wrapper",e="#"+o,a="body",c="comments-and-form",r="#"+c,s="incom-commentform",u="data-incom",l=u+"-comment",f=[],d=u+"-bubble",m=u+"-ref",p="incom-active",b="."+p,v="incom-visible-comment",h="."+v,g="incom-position-",y="incom-bubble",w="."+y,k=y+"-style",C=y+"-static",S="."+C,T=y+"-dynamic",A=y+"-active",x=y+"-link",I="incom-comments-wrapper",O="."+I,D="incom-reply",W="."+D,j="incom-cancel",q="."+j,z="incom-info-icon",B="."+z,N="incom-scrolled-to",_=r+" .comment",L="data_incom",Q=0,E=$(window).width(),F,G,H;t.init=function(t){J(t),K(),M(),zn(),Dn(),$(W+" .comment-reply-link").on("click",function(){$(r+" #commentform").attr("id",s)})};var J=function(t){i=$.extend({selectors:"p",moveSiteSelector:a,countStatic:!0,alwaysStatic:!1,defaultBubbleText:"+",bubbleStyle:"bubble",bubbleAnimationIn:"default",bubbleAnimationOut:"default",position:"left",background:"white",backgroundOpacity:"1"},t)},K=function(){0===$(e).length&&$('<div id="'+o+'"></div>').appendTo($(a)).addClass(g+i.position)},M=function(){$(i.selectors).each(function(t){P($(this),t),R($(this))})},P=function(t,n){var i=U(t);n=V(n,i),X(n,t,i)},R=function(t){Y(t)},U=function(t){var n=t.prop("tagName").substr(0,5);return n},V=function(t,n){var i=n+t;if(-1!==$.inArray(i,f))for(;-1!==$.inArray(i,f);)t++,i=n+t;return f.push(i),t},X=function(t,n,i){if(!n.attr(u)){var o=i+t;n.attr(u,o)}},Y=function(t){var n=Z(t),i=nn(t),o=$("<a/>",{href:"","class":x}).text(n).wrap(i).parent().appendTo(e);an(o),bn(t,o),hn(o)?(cn(t,o),rn(t,o)):o.hide()},Z=function(t){var n;return n=en(t)?tn(t):i.defaultBubbleText},tn=function(t){var n=t.attr(u),i="["+l+"="+n+"]",o=$(i).length;return o+=$(i+" .children li").length},nn=function(t){var n=t.attr(u),i='<div class="'+on(t)+'" '+d+'="'+n+'" />';return i},on=function(t){var n=y,o=" ";return(i.alwaysStatic||en(t)&&i.countStatic)&&(n+=o+C),n+=en(t)||!en(t)&&"bubble"===i.bubbleStyle?o+k:o+T},en=function(t){var n=tn(t);return $.isNumeric(n)&&n>0?!0:!1},an=function(t){t.hasClass(C)&&t.css("display","block")},cn=function(t,n){n.hasClass(C)||t.add(n).hover(function(){$(w+":not("+S+")").hide(),"fadein"===i.bubbleAnimationIn?n.stop(!0,!0).fadeIn():n.stop(!0,!0).show(),hn(n)||n.hide()},function(){"fadeout"===i.bubbleAnimationOut?n.stop(!0,!0).fadeOut():n.stop(!0,!0).delay(700).hide(0)})},rn=function(t,n){n.on("click",function(i){i.preventDefault(),$(this).hasClass(A)?(Sn(!0),$(this).removeClass(A)):(qn(p),t.addClass(p),Sn(),n.addClass(A),un(n))})},sn=function(){var t;return t=0===$(O).length?$("<div/>",{"class":I}).appendTo(e).css("background-color","rgba("+Nn(i.background)+","+i.backgroundOpacity+")"):$(O)},un=function(t){var n=sn();mn(),fn(),bn(t,n),gn(n),kn(),ln()},ln=function(){$(document).ready(Cn()).ajaxStop(function(){Cn()})},fn=function(){$(r).appendTo(O).show(),dn()},dn=function(){var t=$("<input>").attr("type","hidden").attr("name",L).val(pn);$(r+" .form-submit").append($(t))},mn=function(){var t="["+l+"="+pn()+"]";$(_).hide(),$(_+t).addClass(v).show(),$(h+" .children li").show()},pn=function(){var t=$(b).attr(u);return t},bn=function(t,n){var i=t.offset();n.css({top:i.top,left:On()?i.left+t.outerWidth():i.left-n.outerWidth()})},vn=function(t){F=t.outerWidth(),G=t.offset().left,H=G+F},hn=function(t){return vn(t),H>E||0>G?!1:!0},gn=function(t){vn(t),On()&&H>E?(yn(H-E),Tn("in")):!On()&&0>G&&(yn(-G),Tn("in"))},yn=function(t){Q=t},wn=function(){return Q},kn=function(){$("html").click(function(t){0===$(t.target).parents(e).length&&Sn(!0)})},Cn=function(){$(q).click(function(t){t.preventDefault(),Sn(!0)})},Sn=function(t){var n=$(w),i=$(O);$(r).appendTo(e).hide(),$(h).removeClass(v),n.hasClass(A)&&(n.removeClass(A),t?i.fadeOut("fast",function(){$(this).remove(),qn(p)}):i.remove(),Tn("out"))},Tn=function(t){var n=$(i.moveSiteSelector);n.css({position:"relative"}),An(n,t),i.moveSiteSelector!==a&&(In(t,w),In(t,O))},An=function(t,n){var i;"in"===n?i=wn():"out"===n&&(i="initial"),xn(t,i)},xn=function(t,n){t.css(On()?{right:n}:{left:n})},In=function(t,n){var i=$(n);"in"===t?i.css({left:On()?"-="+wn():"+="+wn()}):"out"===t&&i.css({left:On()?"+="+wn():"-="+wn()})},On=function(){return"right"===i.position?!0:!1},Dn=function(){var t=m,n=u;Wn(t,n),jn(t,n)},Wn=function(t,n){$("["+t+"]").each(function(){var i=$(this),o=i.attr(t),e=$("["+n+'="'+o+'"]');e.length||i.parent().remove()})},jn=function(t,n){$("["+t+"]").click(function(){var i=$(this).attr(t),o=$("["+n+'="'+i+'"]');if(o.length){var e=o.offset().top-30;$("html, body").animate({scrollTop:e},1200,"quart"),qn(N),o.addClass(N)}})},qn=function(t){var n=$("."+t);0!==n.length&&(n.removeClass(t),0===n.prop("class").length&&n.removeAttr("class"))},zn=function(){var t=$(B);if(t.length){t.css({display:"block",visibility:"visible"}),(t.css("opacity")<.2||Bn(t)<.2)&&t.css({color:"rgba(0,0,0,1)"}).fadeTo("fast",.5);var n=t.css("font-size").replace(/\D/g,"");6>n&&t.css({"font-size":"13px"});var i=t.css("color");/\s/g.test(i)&&(i=i.replace(/\s/g,"")),i=i.toLowerCase(),("rgb(255,255,255)"===i||"white"===i||"rgba(255,255,255,0)"===i)&&t.css("cssText","color: black!important;")}},Bn=function(t){var n=1,i=t.css("color");return/rgba/i.test(i)&&(n=i.replace(/^.*,(.+)\)/,"$1")),n},Nn=function(t){var n=parseInt(_n(t).substring(0,2),16),i=parseInt(_n(t).substring(2,4),16),o=parseInt(_n(t).substring(4,6),16);return n+","+i+","+o},_n=function(t){return"#"===t.charAt(0)?t.substring(1,7):t};$.easing.quart=function(t,n,i,o,e){return-o*((n=n/e-1)*n*n*n-1)+i}}(window.incom=window.incom||{},jQuery);